INFO:__main__:ğŸš€ Starting PostgreSQL 15 Build & Test Pipeline
INFO:__main__:============================================================
INFO:__main__:ğŸ“‹ Step 1: Starting test database...
INFO:__main__:ğŸ˜ Starting PostgreSQL 15 container...
INFO:__main__:â³ Waiting for PostgreSQL to be ready...
INFO:__main__:âœ… PostgreSQL is ready!
INFO:__main__:ğŸ“‹ Step 2: Setting up test data...
INFO:__main__:ğŸ“Š Setting up test data...
INFO:__main__:âœ… Test data created: 3 movies, 3 actors
INFO:__main__:ğŸ“‹ Step 3: Building Plan B container...
INFO:__main__:ğŸ”¨ Building Plan B PostgreSQL 15 container for testing...
INFO:__main__:âœ… Container built successfully for local testing!
INFO:__main__:ğŸ“‹ Step 4: Testing backup functionality...
INFO:__main__:ğŸ’¾ Testing backup with our container...
INFO:__main__:â–¶ï¸  Running backup using our Plan B container...
INFO:__main__:âœ… PostgreSQL backup completed successfully!
INFO:__main__:âœ… Backup file created: /tmp/planb_postgresql_test_1758618549.sql (4506 bytes)
INFO:__main__:âœ… Backup contains expected tables and data
INFO:__main__:ğŸ“‹ Step 5: Pushing to production registry...
INFO:__main__:â˜ï¸  Building production image and pushing to GCR...
INFO:__main__:ğŸ”¨ Building production image for linux/amd64...
INFO:__main__:âœ… Production image built successfully!
INFO:__main__:â¬†ï¸  Pushing to Google Container Registry...
INFO:__main__:âœ… Successfully pushed to Google Container Registry!
INFO:__main__:ğŸ·ï¸  Image: gcr.io/apito-cms/plan-b-backup-postgresql:15
INFO:__main__:ğŸ‰ PostgreSQL 15 Pipeline COMPLETED SUCCESSFULLY!
INFO:__main__:âœ… Container tested and deployed to production
INFO:__main__:ğŸ§¹ Cleaning up...
INFO:__main__:âœ… Test container stopped
INFO:__main__:âœ… Test network removed
