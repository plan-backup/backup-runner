INFO:__main__:ğŸš€ Starting MongoDB 7.0 Build & Test Pipeline
INFO:__main__:============================================================
INFO:__main__:ğŸ“‹ Step 1: Starting test database...
INFO:__main__:ğŸƒ Starting MongoDB latest container...
INFO:__main__:âœ… MongoDB container 'planb_test_mongodb_70_1758724576' started on port 27593
INFO:__main__:â³ Waiting for MongoDB to be ready...
INFO:__main__:âœ… MongoDB is ready!
INFO:__main__:ğŸ“‹ Step 2: Starting MinIO S3 storage...
INFO:__main__:ğŸ“¦ Starting MinIO S3-compatible storage container...
INFO:__main__:â³ Waiting for MinIO to be ready...
INFO:__main__:âœ… MinIO is ready!
INFO:__main__:âœ… MinIO bucket 'planb-backups' created successfully
INFO:__main__:ğŸ“‹ Step 3: Setting up test data...
INFO:__main__:ğŸ“Š Setting up test data...
INFO:__main__:âœ… Test data created: 3 movies, 3 actors
INFO:__main__:ğŸ“‹ Step 4: Building Plan B container...
INFO:__main__:ğŸ”¨ Building Plan B MongoDB container for testing...
INFO:__main__:âœ… Container built successfully for local testing!
INFO:__main__:ğŸ“‹ Step 5: Testing complete backup pipeline...
INFO:__main__:ğŸ’¾ Testing complete backup pipeline with our container...
INFO:__main__:â–¶ï¸  Running complete backup pipeline using our Plan B container...
INFO:__main__:Using MinIO container name: planb_test_minio_1758724579
INFO:__main__:Container output: 
INFO:__main__:âœ… Complete backup pipeline executed successfully!
INFO:__main__:âœ… Backup verified in MinIO: 223 bytes
INFO:__main__:âœ… Backup uploaded and verified: backups/test/1758724582/mongodb-backup.tar.gz
INFO:__main__:ğŸ“‹ Step 6: Pushing to production registry...
INFO:__main__:â˜ï¸  Building production image and pushing to GCR...
INFO:__main__:ğŸ”¨ Building production image for linux/amd64...
INFO:__main__:âœ… Production image built successfully!
INFO:__main__:â¬†ï¸  Pushing to Google Container Registry...
INFO:__main__:âœ… Successfully pushed to Google Container Registry!
INFO:__main__:ğŸ·ï¸  Image: gcr.io/apito-cms/plan-b-backup-mongodb:7.0
INFO:__main__:ğŸ‰ MongoDB 7.0 Pipeline COMPLETED SUCCESSFULLY!
INFO:__main__:âœ… Container tested and deployed to production
INFO:__main__:âœ… Complete backup â†’ compress â†’ upload pipeline verified
INFO:__main__:ğŸ§¹ Cleaning up...
INFO:__main__:âœ… MongoDB test container stopped
INFO:__main__:âœ… MinIO test container stopped
INFO:__main__:âœ… Test network removed
