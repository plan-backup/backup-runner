INFO:__main__:ğŸš€ Starting MariaDB 10.11 Build & Test Pipeline
INFO:__main__:============================================================
INFO:__main__:ğŸ“‹ Step 1: Starting test database...
INFO:__main__:ğŸ¬ Starting MariaDB 10.11 container...
INFO:__main__:âœ… MariaDB container 'planb_test_mariadb_1011_1758662355' started on port 3661
INFO:__main__:â³ Waiting for MariaDB to be ready...
INFO:__main__:Attempt 1: MariaDB not ready yet (return code: 1)
INFO:__main__:Error: ERROR 2002 (HY000): Can't connect to local server through socket '/run/mysqld/mysqld.sock' (2)

INFO:__main__:Attempt 2: MariaDB not ready yet (return code: 1)
INFO:__main__:Error: ERROR 2002 (HY000): Can't connect to local server through socket '/run/mysqld/mysqld.sock' (2)

INFO:__main__:Attempt 3: MariaDB not ready yet (return code: 1)
INFO:__main__:Error: ERROR 1045 (28000): Access denied for user 'testuser'@'localhost' (using password: YES)

INFO:__main__:âœ… MariaDB is ready!
INFO:__main__:ğŸ“‹ Step 2: Setting up test data...
INFO:__main__:ğŸ“Š Setting up test data...
WARNING:__main__:Command failed: USE planb_testdb; INSERT INTO actors (id, name, movie_id) VALUES (1, 'Keanu Reeves', 1), (2, 'Leonardo DiCaprio', 2);, Error: --------------
INSERT INTO actors (id, name, movie_id) VALUES (1, 'Keanu Reeves', 1), (2, 'Leonardo DiCaprio', 2)
--------------

ERROR 1062 (23000) at line 1: Duplicate entry '1' for key 'PRIMARY'

INFO:__main__:âœ… Test data setup complete
INFO:__main__:ğŸ“‹ Step 3: Starting MinIO...
INFO:__main__:â˜ï¸  Starting MinIO container...
INFO:__main__:âœ… MinIO container 'planb_test_minio_1758662355' started on port 9355
INFO:__main__:â³ Waiting for MinIO to be ready...
INFO:__main__:âœ… Created MinIO bucket: test-backups
INFO:__main__:ğŸ“‹ Step 4: Building backup container...
INFO:__main__:ğŸ”¨ Building MariaDB 10.11 backup container...
INFO:__main__:âœ… MariaDB 10.11 backup container built successfully
INFO:__main__:ğŸ“‹ Step 5: Running backup test...
INFO:__main__:ğŸ§ª Running MariaDB 10.11 backup test...
INFO:__main__:âœ… MariaDB 10.11 backup test completed successfully
INFO:__main__:âœ… Backup verified in MinIO: planb_testdb_backup.sql.gz (943 bytes)
INFO:__main__:ğŸ“‹ Step 6: Pushing to GCR...
INFO:__main__:ğŸš€ Pushing MariaDB 10.11 container to GCR...
ERROR:__main__:âŒ Failed to push MariaDB container to GCR: failed to get destination image "sha256:2bf966bf68ae8a7f61264d77de09363a2397f4e9647e3da3f9ca10a58379fd28": image with reference sha256:2bf966bf68ae8a7f61264d77de09363a2397f4e9647e3da3f9ca10a58379fd28 was found but its platform (linux/arm64/v8) does not match the specified platform (linux/amd64)
INFO:__main__:ğŸ§¹ Cleaning up...
INFO:__main__:âœ… Test network removed
